<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="Description" content="Enter your description here"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<link rel="stylesheet" href="css/style.css">
<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
  <title>Cocina</title>
</head>
<body>
    <header>
        <%- include('NavbarBar'); %>
    </header>
    <br>
    <div class="espacios">
    <h1>Pedidos</h1>
    <div class="container" >
        <table id="huesped" class="table table-dark" style="width: 100%;">
                <thead>
                <tr>
                    <th scope="col">Cuenta</th>
                    <th scope="col">Mesero</th>
                    <th scope="col">Producto </th>
                    <th scope="col">Hora</th>
                    <th scope="col">Opcion</th>
                </tr>
            </thead>
            <tbody>
                <% Cocina.forEach( (Cocina) => { %>
                    <tr>
                        <td> <%= Cocina.Comanda %></td>
                        <td> <%= Cocina.Usuario %></td>
                        <td> <%= Cocina.Producto %></td>
                        <td> <%= Cocina.Hora %></td>
                        <td> 
                            <a href="/eliminarCocina/<%= Cocina.id %>" type="button" class="btnAgregarProducto btn btn-outline-danger  bi bi-cart-x"> </a>
                            <a href="/CCuenta<%= Cocina.Mesa %>/<%= Cocina.id %>" type="button" class="btnAgregarProducto btn btn-outline-primary bi bi-cart-plus"> </a>
                        </td>
                    </tr>
               <% }) %>
            </tbody>
        </table>
    </div>
</div>
<div class="container espacio">       
    <%
    let cantidadAdultos = 0;
    let cantidadNiños = 0;
    let cantidadBebes = 0;
    
    // Configurar la zona horaria para Bogotá
    const timeZoneOffset = -5 * 60; // Bogotá tiene una diferencia de -5 horas respecto a UTC
    const fechaHoy = new Date(new Date().getTime() + timeZoneOffset * 60 * 1000); // Fecha actual en Bogotá
    const fechaHoyStr = fechaHoy.toISOString().split('T')[0];
    const horaActual = new Date().toLocaleString("es-CO", { timeZone: "America/Bogota", hour: "numeric", hour12: false }); // Obtener la hora actual en Bogotá
    let fechaSalidaStr = ""
    Huesped.forEach((Huesped) => {
            cantidadAdultos += Huesped.Adultos;
            cantidadNiños += Huesped.Niños;
            cantidadBebes += Huesped.Bebes;
    });
%>
    <%
    let fechaIngresoDS = ""
    let cantidadAdultosD = 0;
    let cantidadNiñosD = 0;
    let cantidadBebesD = 0;
    DS.forEach((DS) => {
    
                cantidadAdultosD += DS.Adultos;
                cantidadNiñosD += DS.Niños;
                cantidadBebesD += DS.Bebes;
    });
    %>
<h5 class="anuncio">Hospedaje</h5>
<h5 class="anuncio">Adultos:<%= cantidadAdultos %>  Niños:<%= cantidadNiños %> Bebes: <%= cantidadBebes %></h5>
<h5 class="anuncio">Dias de sol</h5>
<h5 class="anuncio">Adultos:<%= cantidadAdultosD %>  Niños:<%= cantidadNiñosD %> Bebes: <%= cantidadBebesD %></h5>
</div>
<script src="js/actualizar.js"></script>
</body>
</html>