<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="css/styleRegitrar.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
  <title>Productos</title>
</head>

<body>
    <header>
        <%- include('Navbar'); %>
      </header>
      <br class="espacio">
      <br class="espacio">
  <div class="container espacio">
    <center>
      <h1 id="Mesas">PRODUCTOS</h1>
    </center>
  </div>
    <div class="login-page ">
        <form action="/CrearProducto" method="POST" class="form" >
          <div class="container" class="fondos">
            <input type="text" id="Producto" name="Producto" placeholder="Nombre de Producto" required>
            <input type="number" id="Precio" name="Precio" placeholder="Precio del producto"required>
            <input type="number" id="Cantidad" name="Cantidad" placeholder="Cantidad">
            <select name="Tipo" id="Tipo">
              <option value="Null">---Seleccione---</option>
              <option value="Bar">Bar</option>
              <option value="Frutera">Frutera</option>
              <option value="Cocina">Cocina</option>
              <option value="Spa">Spa</option>
              <option value="Bodega">Bodega</option>
              <option value="Vitrina">Vitrina</option>
              <option value="Decoracion">Decoracion</option>
            </select>
            <br>
            <div>
              <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </form>
      </div>
    </div>

  <div class="container">
    <table id="productos" class="table table-dark" style="width: 100%;">
      <thead>
        <tr>
          <th scope="col">Producto</th>
          <th scope="col">Precio</th>
          <th scope="col">Tipo</th>
          <th scope="col">Cantidad</th>
          <th scope="col">Opciones</th>
        </tr>
      </thead>
      <tbody>
        <% productos.forEach( (productos) => { %>
          <tr>
              <td> <%= productos.Producto %></td>
              <td> <%= productos.Precio %></td>
              <td> <%= productos.Tipo %></td>
              <td> <%= productos.Cantidad %></td>
              <td> 
                  <a type="button" class="btnEditarProducto btn btn-outline-primary bi bi-pencil"> </a>
                  <a href="/borrarProducto/<%= productos.id %>" class="btn btn-outline-danger bi bi-trash"> </a>
              </td>
          </tr>
     <% }) %>
      </tbody>
    </table>
  </div>
    <!-- ventana modal -->
<div id="modalProducto" class="modal fade" tabindex="-1" aria-labelledby="modalProducto" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header bg-primary text-white">
              <h5 class="modal-title" id="exampleModalLabel">Editar Producto</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form action="/editarProducto" method="POST">
                  <div class="mb-3">
                      <label for="ProductoE" class="col-form-label letra">Producto:</label>
                      <input id="ProductoE" name="ProductoE" type="text" class="form-control" value="">
                  </div>
                  <div class="mb-3">
                    <label for="PrecioE" class="col-form-label letra">Precio:</label>
                    <input id="PrecioE" name="PrecioE" type="text" class="form-control" value="">
                </div>
                <div class="mb-3">
                  <label for="CantidadE" class="col-form-label letra">Cantidad:</label>
                  <input id="CantidadE" name="CantidadE" type="text" class="form-control" value="">
              </div>
                  <div>
                    <label for="type" class="col-form-label letra">Tipo:</label>
                    <select name="TipoE" id="type" class="form-select form-select-sm" aria-label=".form-select-sm example" required >
                      <option value="Null">---Seleccione---</option>
                      <option value="Bar">Bar</option>
                      <option value="Frutera">Frutera</option>
                      <option value="Cocina">Cocina</option>
                      <option value="Spa">Spa</option>
                      <option value="Bodega">Bodega</option>
                      <option value="Vitrina">Vitrina</option>
                      <option value="Decoracion">Decoracion</option>
                      </select>
                  </div>
                  <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Actualizar</button>
                    </div>
                  </div>
              </form>
          </div>
      </div>
</div>
<script src="js/ModalProducto.js"></script>
  <script src="https://cdn.datatables.net/1.13.2/js/dataTables.bootstrap5.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.0/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  <script>
    $(document).ready(function() {
        $('#productos').DataTable({
            "language": {
                "decimal":        "",
                "emptyTable":     "No hay datos disponibles en la tabla",
                "info":           "Mostrando _START_ a _END_ de _TOTAL_ entradas",
                "infoEmpty":      "Mostrando 0 a 0 de 0 entradas",
                "infoFiltered":   "(filtrado de un total de _MAX_ entradas)",
                "infoPostFix":    "",
                "thousands":      ",",
                "lengthMenu":     "Mostrar _MENU_ entradas",
                "loadingRecords": "Cargando...",
                "processing":     "Procesando...",
                "search":         "Buscar:",
                "zeroRecords":    "No se encontraron registros coincidentes",
                "paginate": {
                    "first":      "Primero",
                    "last":       "Ãšltimo",
                    "next":       "Siguiente",
                    "previous":   "Anterior"
                },
                "aria": {
                    "sortAscending":  ": Activar para ordenar la columna en orden ascendente",
                    "sortDescending": ": Activar para ordenar la columna en orden descendente"
                }
            }
        });
    });
        </script>
</body>
</html>